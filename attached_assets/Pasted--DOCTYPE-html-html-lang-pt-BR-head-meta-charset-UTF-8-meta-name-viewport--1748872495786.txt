<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fechou! - O jeito moderno de fechar neg√≥cios</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .tagline {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-nav {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .nav-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-btn:hover, .nav-btn.active {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .content-area {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            min-height: 600px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-success {
            background: #28a745;
        }

        .btn-danger {
            background: #dc3545;
        }

        .card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .card-header {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 15px;
            display: flex;
            justify-content: between;
            align-items: center;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            color: white;
        }

        .status-enviado { background: #17a2b8; }
        .status-visualizado { background: #ffc107; color: #333; }
        .status-aprovado { background: #28a745; }
        .status-pago { background: #007bff; }
        .status-expirado { background: #dc3545; }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
        }

        .stat-label {
            opacity: 0.9;
            margin-top: 5px;
        }

        .service-item {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .service-item input {
            margin: 0;
        }

        .service-item .service-desc {
            flex: 2;
        }

        .service-item .service-price {
            flex: 1;
        }

        .service-item .service-qty {
            flex: 0.5;
        }

        .total-section {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            text-align: center;
        }

        .total-value {
            font-size: 2rem;
            font-weight: bold;
        }

        .quote-preview {
            border: 2px dashed #667eea;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
        }

        .quote-link {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: monospace;
            word-break: break-all;
        }

        .client-view {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .client-header {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .client-content {
            padding: 30px;
        }

        .rating-stars {
            display: flex;
            gap: 5px;
            justify-content: center;
            margin: 20px 0;
        }

        .star {
            font-size: 2rem;
            color: #ddd;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .star.active, .star:hover {
            color: #ffc107;
        }

        .plan-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .plan-card {
            border: 2px solid #e1e5e9;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            position: relative;
        }

        .plan-card.premium {
            border-color: #667eea;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
        }

        .plan-badge {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        .plan-price {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin: 15px 0;
        }

        .plan-features {
            list-style: none;
            text-align: left;
            margin: 20px 0;
        }

        .plan-features li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .plan-features .check {
            color: #28a745;
        }

        .plan-features .cross {
            color: #dc3545;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
            z-index: 1000;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            transform: translateX(100%);
            transition: transform 0.3s ease;
            z-index: 1001;
        }

        .notification.show {
            transform: translateX(0);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .content-area {
                padding: 20px;
            }
            
            .plan-comparison {
                grid-template-columns: 1fr;
            }
            
            .main-nav {
                padding: 15px;
            }
            
            .nav-btn {
                padding: 10px 16px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">üíº Fechou!</div>
            <div class="tagline">O jeito moderno de fechar neg√≥cios</div>
        </div>

        <div class="main-nav">
            <button class="nav-btn active" onclick="showSection('dashboard')">
                <i class="fas fa-chart-dashboard"></i> Dashboard
            </button>
            <button class="nav-btn" onclick="showSection('clientes')">
                <i class="fas fa-users"></i> Clientes
            </button>
            <button class="nav-btn" onclick="showSection('orcamentos')">
                <i class="fas fa-file-invoice-dollar"></i> Or√ßamentos
            </button>
            <button class="nav-btn" onclick="showSection('novo-orcamento')">
                <i class="fas fa-plus"></i> Novo Or√ßamento
            </button>
            <button class="nav-btn" onclick="showSection('avaliacoes')">
                <i class="fas fa-star"></i> Avalia√ß√µes
            </button>
            <button class="nav-btn" onclick="showSection('planos')">
                <i class="fas fa-crown"></i> Planos
            </button>
        </div>

        <div class="content-area">
            <!-- Dashboard -->
            <div id="dashboard" class="section active">
                <h2>Dashboard</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">12</div>
                        <div class="stat-label">Or√ßamentos Enviados</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">8</div>
                        <div class="stat-label">Aprovados</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">5</div>
                        <div class="stat-label">Pagos</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">R$ 2.450</div>
                        <div class="stat-label">Faturamento</div>
                    </div>
                </div>

                <h3>Or√ßamentos Recentes</h3>
                <div class="card">
                    <div class="card-header">
                        Instala√ß√£o El√©trica - Jo√£o Silva
                        <span class="status-badge status-pago">PAGO</span>
                    </div>
                    <p>Valor: R$ 850,00 | Enviado em: 28/05/2025</p>
                </div>
                <div class="card">
                    <div class="card-header">
                        Reparo Hidr√°ulico - Maria Santos
                        <span class="status-badge status-aprovado">APROVADO</span>
                    </div>
                    <p>Valor: R$ 320,00 | Enviado em: 01/06/2025</p>
                </div>
            </div>

            <!-- Clientes -->
            <div id="clientes" class="section">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2>Clientes</h2>
                    <button class="btn" onclick="showModal('modal-cliente')">
                        <i class="fas fa-plus"></i> Novo Cliente
                    </button>
                </div>

                <div class="card">
                    <div class="card-header">Jo√£o Silva</div>
                    <p><i class="fas fa-phone"></i> (11) 99999-1234</p>
                    <p><i class="fas fa-envelope"></i> joao.silva@email.com</p>
                    <p><strong>Or√ßamentos:</strong> 3 | <strong>√öltima compra:</strong> R$ 850,00</p>
                </div>

                <div class="card">
                    <div class="card-header">Maria Santos</div>
                    <p><i class="fas fa-phone"></i> (11) 99999-5678</p>
                    <p><i class="fas fa-envelope"></i> maria.santos@email.com</p>
                    <p><strong>Or√ßamentos:</strong> 2 | <strong>√öltima compra:</strong> R$ 320,00</p>
                </div>
            </div>

            <!-- Or√ßamentos -->
            <div id="orcamentos" class="section">
                <h2>Meus Or√ßamentos</h2>
                
                <div style="margin-bottom: 20px;">
                    <select style="padding: 10px; border-radius: 5px; border: 1px solid #ddd;">
                        <option>Todos os status</option>
                        <option>Enviado</option>
                        <option>Visualizado</option>
                        <option>Aprovado</option>
                        <option>Pago</option>
                        <option>Expirado</option>
                    </select>
                </div>

                <div class="card">
                    <div class="card-header">
                        #001 - Instala√ß√£o El√©trica
                        <span class="status-badge status-pago">PAGO</span>
                    </div>
                    <p><strong>Cliente:</strong> Jo√£o Silva</p>
                    <p><strong>Valor:</strong> R$ 850,00</p>
                    <p><strong>Criado em:</strong> 28/05/2025</p>
                    <div style="margin-top: 15px;">
                        <button class="btn btn-secondary" onclick="viewQuote(1)">Ver Or√ßamento</button>
                        <button class="btn">Reenviar</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        #002 - Reparo Hidr√°ulico
                        <span class="status-badge status-aprovado">APROVADO</span>
                    </div>
                    <p><strong>Cliente:</strong> Maria Santos</p>
                    <p><strong>Valor:</strong> R$ 320,00</p>
                    <p><strong>Criado em:</strong> 01/06/2025</p>
                    <div style="margin-top: 15px;">
                        <button class="btn btn-secondary" onclick="viewQuote(2)">Ver Or√ßamento</button>
                        <button class="btn">Reenviar</button>
                    </div>
                </div>
            </div>

            <!-- Novo Or√ßamento -->
            <div id="novo-orcamento" class="section">
                <h2>Novo Or√ßamento</h2>
                
                <div class="form-group">
                    <label>Cliente</label>
                    <select id="cliente-select">
                        <option>Selecione um cliente</option>
                        <option value="joao">Jo√£o Silva</option>
                        <option value="maria">Maria Santos</option>
                    </select>
                </div>

                <h3>Servi√ßos</h3>
                <div id="servicos-list">
                    <div class="service-item">
                        <input type="text" placeholder="Descri√ß√£o do servi√ßo" class="service-desc">
                        <input type="number" placeholder="Valor" class="service-price" step="0.01">
                        <input type="number" placeholder="Qtd" class="service-qty" value="1" min="1">
                        <button class="btn btn-danger" onclick="removeService(this)">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                
                <button class="btn btn-secondary" onclick="addService()">
                    <i class="fas fa-plus"></i> Adicionar Servi√ßo
                </button>

                <div class="form-group">
                    <label>Observa√ß√µes</label>
                    <textarea placeholder="Observa√ß√µes adicionais..." rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label>Prazo de Validade</label>
                    <select>
                        <option>3 dias</option>
                        <option>7 dias</option>
                        <option selected>15 dias</option>
                        <option>30 dias</option>
                        <option>Personalizado</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Anexos (m√°x. 1 no plano gratuito)</label>
                    <input type="file" accept="image/*,.pdf" multiple>
                </div>

                <div class="total-section">
                    <div>Total do Or√ßamento</div>
                    <div class="total-value" id="total-value">R$ 0,00</div>
                </div>

                <div style="margin-top: 30px; display: flex; gap: 15px;">
                    <button class="btn" onclick="generateQuote()">
                        <i class="fas fa-file-pdf"></i> Gerar Or√ßamento
                    </button>
                    <button class="btn btn-success" onclick="sendQuote()">
                        <i class="fab fa-whatsapp"></i> Enviar por WhatsApp
                    </button>
                </div>
            </div>

            <!-- Avalia√ß√µes -->
            <div id="avaliacoes" class="section">
                <h2>Avalia√ß√µes dos Clientes</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">4.8</div>
                        <div class="stat-label">M√©dia Geral</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">15</div>
                        <div class="stat-label">Total de Avalia√ß√µes</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">Jo√£o Silva - Instala√ß√£o El√©trica</div>
                    <div class="rating-stars">
                        <span class="star active">‚≠ê</span>
                        <span class="star active">‚≠ê</span>
                        <span class="star active">‚≠ê</span>
                        <span class="star active">‚≠ê</span>
                        <span class="star active">‚≠ê</span>
                    </div>
                    <p>"Excelente profissional! Servi√ßo de qualidade e pre√ßo justo."</p>
                    <small>Avaliado em: 30/05/2025</small>
                </div>

                <div class="card">
                    <div class="card-header">Maria Santos - Reparo Hidr√°ulico</div>
                    <div class="rating-stars">
                        <span class="star active">‚≠ê</span>
                        <span class="star active">‚≠ê</span>
                        <span class="star active">‚≠ê</span>
                        <span class="star active">‚≠ê</span>
                        <span class="star">‚≠ê</span>
                    </div>
                    <p>"Muito pontual e resolveu o problema rapidamente."</p>
                    <small>Avaliado em: 02/06/2025</small>
                </div>
            </div>

            <!-- Planos -->
            <div id="planos" class="section">
                <h2>Escolha seu Plano</h2>
                
                <div class="plan-comparison">
                    <div class="plan-card">
                        <h3>Gratuito</h3>
                        <div class="plan-price">R$ 0</div>
                        <ul class="plan-features">
                            <li><i class="fas fa-check check"></i> At√© 5 or√ßamentos/m√™s</li>
                            <li><i class="fas fa-check check"></i> PDF com marca d'√°gua</li>
                            <li><i class="fas fa-check check"></i> Pagamento via Pix</li>
                            <li><i class="fas fa-check check"></i> 1 anexo por or√ßamento</li>
                            <li><i class="fas fa-check check"></i> Avalia√ß√µes vis√≠veis</li>
                            <li><i class="fas fa-times cross"></i> Sem logotipo</li>
                            <li><i class="fas fa-times cross"></i> Sem envio por e-mail</li>
                        </ul>
                        <button class="btn btn-secondary" disabled>Plano Atual</button>
                    </div>

                    <div class="plan-card premium">
                        <div class="plan-badge">POPULAR</div>
                        <h3>Premium</h3>
                        <div class="plan-price">R$ 29,90</div>
                        <ul class="plan-features">
                            <li><i class="fas fa-check check"></i> Or√ßamentos ilimitados</li>
                            <li><i class="fas fa-check check"></i> PDF sem marca d'√°gua</li>
                            <li><i class="fas fa-check check"></i> Pagamento Pix + Cart√£o</li>
                            <li><i class="fas fa-check check"></i> At√© 3 anexos por or√ßamento</li>
                            <li><i class="fas fa-check check"></i> Envio por e-mail</li>
                            <li><i class="fas fa-check check"></i> Logotipo personalizado</li>
                            <li><i class="fas fa-check check"></i> Link personalizado</li>
                            <li><i class="fas fa-check check"></i> Relat√≥rios semanais</li>
                        </ul>
                        <button class="btn" onclick="upgradeAccount()">Assinar Agora</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Cliente -->
    <div id="modal-cliente" class="modal">
        <div class="modal-content">
            <h3>Novo Cliente</h3>
            <div class="form-group">
                <label>Nome Completo</label>
                <input type="text" placeholder="Nome do cliente">
            </div>
            <div class="form-group">
                <label>Telefone</label>
                <input type="tel" placeholder="(11) 99999-9999">
            </div>
            <div class="form-group">
                <label>E-mail (opcional)</label>
                <input type="email" placeholder="email@exemplo.com">
            </div>
            <div style="display: flex; gap: 15px; margin-top: 20px;">
                <button class="btn" onclick="saveClient()">Salvar</button>
                <button class="btn btn-secondary" onclick="closeModal('modal-cliente')">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal Visualiza√ß√£o Or√ßamento -->
    <div id="modal-quote" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="client-view">
                <div class="client-header">
                    <h2>‚ö° Eletricista Jo√£o</h2>
                    <p>Or√ßamento #001</p>
                </div>
                <div class="client-content">
                    <h3>Detalhes do Servi√ßo</h3>
                    <div class="card">
                        <p><strong>Instala√ß√£o de tomadas extras</strong></p>
                        <p>Quantidade: 5 unidades</p>
                        <p>Valor unit√°rio: R$ 45,00</p>
                        <p><strong>Subtotal: R$ 225,00</strong></p>
                    </div>
                    <div class="card">
                        <p><strong>Instala√ß√£o de disjuntores</strong></p>
                        <p>Quantidade: 3 unidades</p>
                        <p>Valor unit√°rio: R$ 85,00</p>
                        <p><strong>Subtotal: R$ 255,00</strong></p>
                    </div>

                    <div class="total-section">
                        <h3>Total: R$ 850,00</h3>
                        <p>V√°lido at√©: 15/06/2025</p>
                    </div>

                    <div style="margin: 30px 0; text-align: center;">
                        <button class="btn btn-success" onclick="approveQuote()">
                            <i class="fas fa-check"></i> Aprovar Or√ßamento
                        </button>
                        <button class="btn" onclick="payQuote()">
                            <i class="fas fa-credit-card"></i> Pagar Agora
                        </button>
                    </div>

                    <h4>Avalie este servi√ßo:</h4>
                    <div class="rating-stars" id="rating-input">
                        <span class="star" onclick="setRating(1)">‚≠ê</span>
                        <span class="star" onclick="setRating(2)">‚≠ê</span>
                        <span class="star" onclick="setRating(3)">‚≠ê</span>
                        <span class="star" onclick="setRating(4)">‚≠ê</span>
                        <span class="star" onclick="setRating(5)">‚≠ê</span>
                    </div>
                    <textarea placeholder="Deixe um coment√°rio sobre o servi√ßo..." rows="3" style="width: 100%; margin: 15px 0; padding: 10px; border-radius: 5px; border: 1px solid #ddd;"></textarea>
                    <button class="btn btn-secondary">Enviar Avalia√ß√£o</button>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-secondary" onclick="closeModal('modal-quote')">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
        <i class="fas fa-check-circle"></i> <span id="notification-text">A√ß√£o realizada com sucesso!</span>
    </div>

    <script>
        // Estado da aplica√ß√£o
        let appState = {
            currentPlan: 'gratuito',
            quotesCount: 3,
            maxQuotes: 5,
            clients: [
                { id: 1, name: 'Jo√£o Silva', phone: '(11) 99999-1234', email: 'joao.silva@email.com' },
                { id: 2, name: 'Maria Santos', phone: '(11) 99999-5678', email: 'maria.santos@email.com' }
            ],
            quotes: [
                { id: 1, client: 'Jo√£o Silva', value: 850, status: 'pago', date: '28/05/2025', title: 'Instala√ß√£o El√©trica' },
                { id: 2, client: 'Maria Santos', value: 320, status: 'aprovado', date: '01/06/2025', title: 'Reparo Hidr√°ulico' }
            ],
            currentRating: 0
        };

        // Navega√ß√£o entre se√ß√µes
        function showSection(sectionId) {
            // Remove classe active de todas as se√ß√µes
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove classe active de todos os bot√µes
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Ativa a se√ß√£o selecionada
            document.getElementById(sectionId).classList.add('active');
            
            // Ativa o bot√£o correspondente
            event.target.classList.add('active');
        }

        // Gerenciamento de modais
        function showModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Fechar modal clicando fora
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active');
            }
        });

        // Sistema de notifica√ß√µes
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notification-text');
            
            notificationText.textContent = message;
            notification.className = `notification show ${type}`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Gerenciamento de servi√ßos no or√ßamento
        function addService() {
            const servicesList = document.getElementById('servicos-list');
            const newService = document.createElement('div');
            newService.className = 'service-item';
            newService.innerHTML = `
                <input type="text" placeholder="Descri√ß√£o do servi√ßo" class="service-desc">
                <input type="number" placeholder="Valor" class="service-price" step="0.01" oninput="calculateTotal()">
                <input type="number" placeholder="Qtd" class="service-qty" value="1" min="1" oninput="calculateTotal()">
                <button class="btn btn-danger" onclick="removeService(this)">
                    <i class="fas fa-trash"></i>
                </button>
            `;
            servicesList.appendChild(newService);
        }

        function removeService(button) {
            button.parentElement.remove();
            calculateTotal();
        }

        function calculateTotal() {
            let total = 0;
            const serviceItems = document.querySelectorAll('.service-item');
            
            serviceItems.forEach(item => {
                const price = parseFloat(item.querySelector('.service-price').value) || 0;
                const qty = parseInt(item.querySelector('.service-qty').value) || 1;
                total += price * qty;
            });
            
            document.getElementById('total-value').textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
        }

        // Adicionar event listeners para c√°lculo autom√°tico
        document.addEventListener('input', function(e) {
            if (e.target.classList.contains('service-price') || e.target.classList.contains('service-qty')) {
                calculateTotal();
            }
        });

        // Fun√ß√µes do or√ßamento
        function generateQuote() {
            const cliente = document.getElementById('cliente-select').value;
            if (!cliente) {
                showNotification('Selecione um cliente primeiro!', 'error');
                return;
            }
            
            const services = document.querySelectorAll('.service-item');
            if (services.length === 0) {
                showNotification('Adicione pelo menos um servi√ßo!', 'error');
                return;
            }
            
            // Verificar limite do plano gratuito
            if (appState.currentPlan === 'gratuito' && appState.quotesCount >= appState.maxQuotes) {
                showNotification('Limite de or√ßamentos atingido! Upgrade para o plano Premium.', 'error');
                showSection('planos');
                return;
            }
            
            showNotification('Or√ßamento gerado com sucesso!');
            
            // Mostrar preview do link
            const quotePreview = document.createElement('div');
            quotePreview.className = 'quote-preview';
            quotePreview.innerHTML = `
                <h4>‚úÖ Or√ßamento Gerado!</h4>
                <div class="quote-link">
                    https://fechou.app/orcamento/FH${Date.now().toString().slice(-6)}
                </div>
                <p>Link gerado com sucesso! Agora voc√™ pode enviar para o cliente.</p>
            `;
            
            // Inserir ap√≥s o bot√£o de gerar
            const buttonContainer = document.querySelector('#novo-orcamento .btn').parentElement;
            buttonContainer.parentElement.insertBefore(quotePreview, buttonContainer);
            
            appState.quotesCount++;
        }

        function sendQuote() {
            const cliente = document.getElementById('cliente-select').value;
            if (!cliente) {
                showNotification('Gere o or√ßamento primeiro!', 'error');
                return;
            }
            
            // Simular envio por WhatsApp
            const phone = appState.clients.find(c => c.name.toLowerCase().includes(cliente))?.phone || '(11) 99999-9999';
            const message = encodeURIComponent('Ol√°! Segue seu or√ßamento: https://fechou.app/orcamento/FH123456');
            const whatsappUrl = `https://wa.me/55${phone.replace(/\D/g, '')}?text=${message}`;
            
            // Simular abertura do WhatsApp
            showNotification('Redirecionando para o WhatsApp...');
            
            // Em um app real, abriria: window.open(whatsappUrl, '_blank');
            setTimeout(() => {
                showNotification('Or√ßamento enviado via WhatsApp!');
            }, 1500);
        }

        // Visualizar or√ßamento
        function viewQuote(quoteId) {
            showModal('modal-quote');
        }

        // Sistema de avalia√ß√µes
        function setRating(rating) {
            appState.currentRating = rating;
            const stars = document.querySelectorAll('#rating-input .star');
            
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        // A√ß√µes do cliente
        function approveQuote() {
            showNotification('Or√ßamento aprovado pelo cliente!');
            // Atualizar status do or√ßamento
            closeModal('modal-quote');
        }

        function payQuote() {
            // Simular processo de pagamento
            const paymentModal = document.createElement('div');
            paymentModal.className = 'modal active';
            paymentModal.innerHTML = `
                <div class="modal-content">
                    <h3>üí≥ Escolha a forma de pagamento</h3>
                    <div style="display: grid; gap: 15px; margin: 20px 0;">
                        <button class="btn" onclick="processPix()">
                            <i class="fas fa-qrcode"></i> Pagar com Pix
                        </button>
                        <button class="btn" onclick="processCard()" ${appState.currentPlan === 'gratuito' ? 'disabled title="Dispon√≠vel apenas no plano Premium"' : ''}>
                            <i class="fas fa-credit-card"></i> Pagar com Cart√£o
                        </button>
                    </div>
                    <button class="btn btn-secondary" onclick="this.parentElement.parentElement.remove()">Cancelar</button>
                </div>
            `;
            document.body.appendChild(paymentModal);
        }

        function processPix() {
            showNotification('Gerando c√≥digo Pix...');
            setTimeout(() => {
                showNotification('Pagamento Pix realizado com sucesso!');
                document.querySelector('.modal').remove();
                closeModal('modal-quote');
            }, 2000);
        }

        function processCard() {
            showNotification('Processando pagamento no cart√£o...');
            setTimeout(() => {
                showNotification('Pagamento aprovado!');
                document.querySelector('.modal').remove();
                closeModal('modal-quote');
            }, 3000);
        }

        // Gerenciamento de clientes
        function saveClient() {
            const name = event.target.closest('.modal-content').querySelector('input[type="text"]').value;
            const phone = event.target.closest('.modal-content').querySelector('input[type="tel"]').value;
            const email = event.target.closest('.modal-content').querySelector('input[type="email"]').value;
            
            if (!name || !phone) {
                showNotification('Nome e telefone s√£o obrigat√≥rios!', 'error');
                return;
            }
            
            // Adicionar cliente ao estado
            appState.clients.push({
                id: appState.clients.length + 1,
                name: name,
                phone: phone,
                email: email
            });
            
            // Atualizar select do or√ßamento
            const clientSelect = document.getElementById('cliente-select');
            const option = document.createElement('option');
            option.value = name.toLowerCase();
            option.textContent = name;
            clientSelect.appendChild(option);
            
            showNotification('Cliente cadastrado com sucesso!');
            closeModal('modal-cliente');
            
            // Limpar formul√°rio
            event.target.closest('.modal-content').querySelectorAll('input').forEach(input => {
                input.value = '';
            });
        }

        // Upgrade de conta
        function upgradeAccount() {
            const confirmUpgrade = confirm('Deseja assinar o plano Premium por R$ 29,90/m√™s?');
            
            if (confirmUpgrade) {
                // Simular processo de pagamento
                showNotification('Redirecionando para pagamento...');
                
                setTimeout(() => {
                    appState.currentPlan = 'premium';
                    appState.maxQuotes = Infinity;
                    showNotification('Parab√©ns! Sua conta foi upgradada para Premium! üéâ');
                    
                    // Atualizar interface
                    document.querySelector('.plan-card .btn[disabled]').textContent = 'Plano Gratuito';
                    document.querySelector('.plan-card .btn[disabled]').disabled = false;
                    document.querySelector('.plan-card.premium .btn').textContent = 'Plano Atual';
                    document.querySelector('.plan-card.premium .btn').disabled = true;
                    document.querySelector('.plan-card.premium .btn').classList.add('btn-secondary');
                }, 2000);
            }
        }

        // Simula√ß√£o de notifica√ß√µes em tempo real
        function simulateRealTimeNotifications() {
            const notifications = [
                'Jo√£o Silva visualizou seu or√ßamento!',
                'Maria Santos aprovou o or√ßamento!',
                'Novo pagamento Pix recebido: R$ 320,00',
                'Carlos Oliveira deixou uma avalia√ß√£o 5‚≠ê'
            ];
            
            let index = 0;
            setInterval(() => {
                if (Math.random() > 0.7) { // 30% chance
                    showNotification(notifications[index % notifications.length]);
                    index++;
                }
            }, 10000); // A cada 10 segundos
        }

        // Funcionalidades de demonstra√ß√£o
        function demonstrateFeatures() {
            // Simular algumas intera√ß√µes para demo
            setTimeout(() => {
                showNotification('üì± Bem-vindo ao Fechou! Explore todas as funcionalidades.');
            }, 1000);
            
            // Iniciar notifica√ß√µes simuladas
            setTimeout(() => {
                simulateRealTimeNotifications();
            }, 5000);
        }

        // Inicializar aplica√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            demonstrateFeatures();
            
            // Configurar c√°lculo inicial
            calculateTotal();
            
            // Adicionar alguns dados de exemplo
            if (appState.quotes.length > 0) {
                // Atualizar contadores do dashboard
                document.querySelector('.stat-number').textContent = appState.quotes.length;
            }
        });

        // Funcionalidades adicionais para demonstra√ß√£o
        function exportData() {
            const data = {
                clientes: appState.clients,
                orcamentos: appState.quotes,
                configuracao: {
                    plano: appState.currentPlan,
                    totalOrcamentos: appState.quotesCount
                }
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'fechou-backup.json';
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('Dados exportados com sucesso!');
        }

        function generateReport() {
            const report = `
                RELAT√ìRIO FECHOU! - ${new Date().toLocaleDateString('pt-BR')}
                
                üìä RESUMO GERAL
                ‚Ä¢ Total de Clientes: ${appState.clients.length}
                ‚Ä¢ Or√ßamentos Enviados: ${appState.quotes.length}
                ‚Ä¢ Taxa de Convers√£o: 66%
                ‚Ä¢ Faturamento Total: R$ 1.170,00
                
                üéØ TOP CLIENTES
                ‚Ä¢ Jo√£o Silva - R$ 850,00
                ‚Ä¢ Maria Santos - R$ 320,00
                
                üìà PERFORMANCE
                ‚Ä¢ Or√ßamentos Aprovados: 8
                ‚Ä¢ Pagamentos Recebidos: 5
                ‚Ä¢ Avalia√ß√£o M√©dia: 4.8‚≠ê
                
                üí° DICAS
                ‚Ä¢ Considere enviar lembretes autom√°ticos
                ‚Ä¢ Mantenha seus pre√ßos atualizados
                ‚Ä¢ Solicite avalia√ß√µes ap√≥s cada servi√ßo
            `;
            
            const blob = new Blob([report], {type: 'text/plain'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'relatorio-fechou.txt';
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('Relat√≥rio gerado com sucesso!');
        }

        // Adicionar bot√µes de demonstra√ß√£o ao dashboard
        document.addEventListener('DOMContentLoaded', function() {
            const dashboard = document.getElementById('dashboard');
            const demoButtons = document.createElement('div');
            demoButtons.innerHTML = `
                <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #eee;">
                    <h4>üöÄ Funcionalidades de Demonstra√ß√£o</h4>
                    <div style="display: flex; gap: 15px; margin-top: 15px; flex-wrap: wrap;">
                        <button class="btn btn-secondary" onclick="exportData()">
                            <i class="fas fa-download"></i> Exportar Dados
                        </button>
                        <button class="btn btn-secondary" onclick="generateReport()">
                            <i class="fas fa-chart-line"></i> Gerar Relat√≥rio
                        </button>
                        <button class="btn btn-secondary" onclick="showNotification('Sincroniza√ß√£o realizada!', 'success')">
                            <i class="fas fa-sync"></i> Sincronizar
                        </button>
                    </div>
                </div>
            `;
            dashboard.appendChild(demoButtons);
        });
    </script>
</body>
</html>